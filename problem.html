<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <link rel="icon" type="image/png" href="./static/img/favicon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <title>Pedagogical Aid - Line Segment Intersection</title>

    <link href="./static/css/bootstrap.css" rel="stylesheet"/>
    <link href="./static/css/rubick.css" rel="stylesheet"/>
    <link href="./static/css/demo.css" rel="stylesheet"/>

    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Droid+Serif:400,700' rel='stylesheet' type='text/css'>
    <link href="./static/css/fonts/pe-icon-7-stroke.css" rel="stylesheet"/>
    <link href="./static/css/fonts/Rubik-Fonts.css" rel="stylesheet"/>
    <style>
        canvas {
            border: 1px solid black;
        }
        pre {
            height: 100%;
        }
    </style>
</head>
<body>

<div class="wrapper" style="margin-top: 20px">
    <div class="col-md-7" style="height: 600px;">
        <pre>
Initialize an empty priority queue Q for future events, prioritized by x-coordinate of the event.
Initialize an empty status list, which keeps line segments ordered by the value of Y-coordinate for current value of X.

For each input line segment:
    Create and add two events to Q:
        - One for the left endpoint (x-coordinate as the key) to insert the segment into T.
        - One for the right endpoint (x-coordinate as the key) to remove the segment from T.

While Q is not empty:
    Get the event with the smallest x-coordinate - max priority (let's call it p) from Q.

    If p is a left endpoint of a line segment s:
        Insert s into T.
        Find segments r and t that are immediately above and below s in T.
        If r and t cross, remove any possible future events related to their intersection.
        If s intersects r or t, add those intersection points as potential future events in Q.

    Else If p is a right endpoint of a line segment s:
        Remove s from T.
        Find segments r and t that were immediately above and below s in T before its removal.
        If r and t intersect, add that intersection point as a potential future event in Q.

    Else If p is the intersection point of two segments s and t:
        Swap the positions of s and t in T.
        After the swap, find the segments r and u that are immediately below and above t and s, respectively.
        Remove any possible future events related to rs and tu from Q.
        If r and t intersect or s and u intersect, add those intersection points to Q.
        </pre>
    </div>
    <div class="col-md-5" style="height: 600px;">
        <canvas id='canvas'></canvas>
    </div>
</div>
<div class="wrapper col-md-12" style="margin-top: 10px;">
    <button style="float: right; margin-left: 10px" class="btn btn-primary" onclick="clearData()">Clear</button>
    <button style="float: right;" class="btn btn-primary" onclick="runAlgorithm()">Execute</button>
</div>
</body>
<!--   core js files    -->
<script src="./static/js/jquery-1.11.2.min.js" type="text/javascript"></script>
<script src="./static/js/bootstrap.js" type="text/javascript"></script>
<script type="text/javascript" src="./static/js/rubick.js"></script>
<script type="text/javascript" src="./static/js/modernizr.js"></script>
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js" charset="utf-8"></script>
<script type="text/javascript" src="./static/js/algorithm.js"></script>
</html>